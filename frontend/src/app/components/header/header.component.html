<div class="header">
  <p-icon
    name="menu-lines"
    theme="dark"
    [aria]="{'aria-label': 'Menu Lines icon'}"
    (click)="onMenuClick()"
  ></p-icon>

  <p-wordmark theme="dark" [style]="{'height': '20px', 'cursor': 'pointer'}" (click)="navigateTo('/')"></p-wordmark>

  <ng-container>
    <p-icon
      *ngIf="!userConnected"
      name="user"
      theme="dark"
      [aria]="{'aria-label': 'Login icon'}"
      (click)="onLoginClick()"
    >User</p-icon>
    <p-icon
      *ngIf="userConnected"
      name="logout"
      theme="dark"
      [aria]="{'aria-label': 'Logout icon'}"
      (click)="onLoginClick()"
    >Logout</p-icon>
  </ng-container>
</div>

<p-modal [open]="loginModalOpen" (dismiss)="onLoginModalDismiss()" [aria]="{'aria-label': 'Login'}">
  <div style="display: flex; justify-content: center; margin-bottom: 30px;">
    <p-wordmark></p-wordmark>
  </div>
  <p-banner
    [open]="bannerOpen"
    [heading]="loginSuccess ? 'Login Successful' : 'Login Failed'"
    [headingTag]="'h3'"
    [description]="loginSuccess ? 'Welcome, you have successfully logged in.' : 'Login failed. Please try again.'"
    [state]="loginSuccess ? 'info' : 'error'"
    [dismissButton]="!loginSuccess"
    (dismiss)="onBannerDismiss()"
  ></p-banner>
  <form (ngSubmit)="onLoginSubmit()" style="display: flex; flex-direction: column; gap: 20px; padding: 25px; min-width: 400px;">
    <p-text-field-wrapper label="Email">
      <input type="email" pText required [(ngModel)]="email" name="email" (keydown.enter)="onLoginSubmit()" />
    </p-text-field-wrapper>
    <p-text-field-wrapper label="Password">
      <input type="password" pText required [(ngModel)]="password" name="password" (keydown.enter)="onLoginSubmit()" />
    </p-text-field-wrapper>
    <p-button-group slot="footer" style="width: 100%;">
      <p-button type="submit" style="flex: 1;">Login</p-button>
      <p-button type="button" variant="secondary" (click)="onLoginModalDismiss()" style="flex: 1;">Cancel</p-button>
    </p-button-group>
    <p-divider></p-divider>
    <p-button type="submit" variant="secondary" style="width: 100%;">Create an account</p-button>
  </form>
</p-modal>

<p-flyout [open]="open" [position]="'start'" [aria]="{'aria-label': 'Navigation Menu'}" (dismiss)="onDismiss()">
  <div class="flyout-category">
    <p-link icon="home" style="display: inline-block; width: 200px; cursor: pointer;" (click)="navigateTo('')">
      Home
    </p-link>
  </div>
  <div class="flyout-category">
    <p-link icon="car" style="display: inline-block; width: 200px; cursor: pointer;" (click)="navigateTo('models')">
      Models
    </p-link>
  </div>
  <div class="flyout-category">
    <p-link icon="garage" style="display: inline-block; width: 200px; cursor: pointer;" (click)="navigateTo('garage')">
      My Garage
    </p-link>
  </div>  
</p-flyout>
